<?xml version="1.0" encoding="utf-8"?>
<modification>
	<name>Multi Vendor Drop Shipper 2.0.1.1 - Coded by waabay.com</name>
	<code>default</code>
	<version>1.0</version>
	<author>waabay</author>
	<link>http://www.waabay.com</link>
	
	<!--Edit User Library-->
	<file path="system/library/user.php">
		<operation error="skip">
			<search><![CDATA[
			private $permission = array();
			]]></search>
			<add position="after"><![CDATA[
			private $store_permission;
			private $cat_permission;
			private $vendor_permission;
			private $folder_path;
			private $account_expired;
			private $user_expire_date;
			]]></add>
		</operation>
		
		<operation error="skip">
			<search><![CDATA[
			$this->username = $user_query->row['username'];
			]]></search>
			<add position="after"><![CDATA[
			$this->store_permission = $user_query->row['store_permission'];
			$this->cat_permission = $user_query->row['cat_permission'];
			$this->vendor_permission = $user_query->row['vendor_permission'];
			$this->folder_path = $user_query->row['folder'];
			$this->user_expire_date = $user_query->row['user_date_end'];
				
			if((strtotime(date('Y-m-d')) >= strtotime($user_query->row['user_date_start'])) && (strtotime(date('Y-m-d')) <= strtotime($user_query->row['user_date_end'])) || (($user_query->row['user_date_start'] == '0000-00-00') && ($user_query->row['user_date_end'] == '0000-00-00'))) {
				$this->account_expired = false;
			} else {
				$this->account_expired = true;
			}
			]]></add>
		</operation>
		
		<operation error="skip">
			<search><![CDATA[
			$this->username = '';
			]]></search>
			<add position="after"><![CDATA[
			$this->store_permission = '';
			$this->cat_permission = '';
			$this->vendor_permission = '';
			$this->folder_path = '';
			$this->user_expire_date = '';
			$this->account_expired = false;
			]]></add>
		</operation>
		
		<operation error="skip">
			<search><![CDATA[
			return $this->username;
			]]></search>
			<add position="after" offset="1"><![CDATA[
			public function getSP() {
				return $this->store_permission;
			}
					
			public function getCP() {
				return $this->cat_permission;
			}
					
			public function getVP() {
				return $this->vendor_permission;
			}
					
			public function getStorePath() {
				return $this->folder_path;
			}
					
			public function getExpireDate() {
				return $this->user_expire_date;
			}
					
			public function IsAccountExpired() {
				return $this->account_expired;
			}
			]]></add>
		</operation>
	</file>
	
	<file path="admin/controller/common/column_left.php">
		<operation error="skip">
			<search><![CDATA[
			$data['stats'] = $this->load->controller('common/stats');
			]]></search>
			<add position="replace"><![CDATA[			
			if (!$this->user->getVP()) {
				$data['stats'] = $this->load->controller('common/stats');
			} else {
				$data['stats'] = $this->load->controller('common/vdi_stats');
			}
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/dashboard.php">
		<operation error="skip">
			<search><![CDATA[
			$data['footer'] = $this->load->controller('common/footer');
			]]></search>
			<add position="after"><![CDATA[			
			$data['text_total_product'] = $this->language->get('text_total_product');
			$data['text_total_shipping'] = $this->language->get('text_total_shipping');
			$data['text_total_product_approval'] = $this->language->get('text_total_product_approval');
			$data['text_total_product_pendding'] = $this->language->get('text_total_product_pendding');
			$data['text_total_vendor_approval'] = $this->language->get('text_total_vendor_approval');
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/forgotten.php">
		<operation error="skip">
			<search><![CDATA[
			$this->response->redirect($this->url->link('common/dashboard', '', 'SSL'));
			]]></search>
			<add position="replace"><![CDATA[			
			if (!$this->user->getVP()) {
				$this->response->redirect($this->url->link('common/dashboard', '', 'SSL'));
			} else {
				$this->response->redirect($this->url->link('common/vdi_dashboard', '', 'SSL'));
			}
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/header.php">
		<operation error="skip">
			<search><![CDATA[
			$data['text_logout'] = $this->language->get('text_logout');
			]]></search>
			<add position="after"><![CDATA[			
			$data['text_multi_vendor_status'] = $this->language->get('text_multi_vendor_status');
			$data['text_total_pending_products'] = $this->language->get('text_total_pending_products');
			$data['text_total_pending_accounts'] = $this->language->get('text_total_pending_accounts');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			$data['complete_status'] = $this->url->link('sale/order', 'token=' . $this->session->data['token'] . '&filter_order_status=' . implode(',', $this->config->get('config_complete_status')), 'SSL');
			]]></search>
			<add position="after"><![CDATA[			
			$this->load->model('catalog/mvd_product');
			$total_pending_products = $this->model_catalog_mvd_product->getTotalWaitingApprovalProduct();
			$data['total_pending_products'] = $total_pending_products;
			$data['pending_products'] = $this->url->link('catalog/mvd_product', 'token=' . $this->session->data['token'] . '&filter_status=5', 'SSL');
				
			$this->load->model('catalog/vendor');
			$total_pending_accounts = $this->model_catalog_vendor->getUserAwaitingApproval();
			$data['total_pending_accounts'] = $total_pending_accounts;
			$data['pending_accounts'] = $this->url->link('catalog/vendor', 'token=' . $this->session->data['token'] . '&filter_status=5', 'SSL');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			$data['alerts'] = $customer_total + $product_total + $review_total + $return_total + $affiliate_total;
			]]></search>
			<add position="replace"><![CDATA[
			$data['alerts'] = $customer_total + $product_total + $review_total + $return_total + $affiliate_total + $total_pending_products + $total_pending_accounts;
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/login.php">
		<operation error="skip">
			<search><![CDATA[
			$this->response->redirect($this->url->link('common/dashboard', 'token=' . $this->session->data['token'], 'SSL'));
			]]></search>
			<add position="replace"><![CDATA[			
			if (!$this->user->getVP()) {
				$this->response->redirect($this->url->link('common/dashboard', 'token=' . $this->session->data['token'], 'SSL'));
			} else {
				$this->response->redirect($this->url->link('common/vdi_dashboard', 'token=' . $this->session->data['token'], 'SSL'));
			}
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/menu.php">
		<operation error="skip">
			<search><![CDATA[
			$data['text_openbay_order_import'] = $this->language->get('text_openbay_order_import');
			]]></search>
			<add position="after"><![CDATA[			
			$data['text_vendor_tool'] = $this->language->get('text_vendor_tool');
			$data['text_add_vendors'] = $this->language->get('text_add_vendors');
			$data['text_add_courier'] = $this->language->get('text_add_courier');
			$data['text_pro2ven'] = $this->language->get('text_pro2ven');
			$data['text_vendor_sales'] = $this->language->get('text_vendor_sales');
			$data['text_vendor_transaction'] = $this->language->get('text_vendor_transaction');
			$data['text_payment_history'] = $this->language->get('text_payment_history');
			$data['text_contract_history'] = $this->language->get('text_contract_history');
			$data['text_vendor_sales_orders'] = $this->language->get('text_vendor_sales_orders');
			$data['text_vendor_report'] = $this->language->get('text_vendor_report');
			$data['text_setup'] = $this->language->get('text_setup');
			$data['text_vendor_setting'] = $this->language->get('text_vendor_setting');
			$data['text_vendor_commission'] = $this->language->get('text_vendor_commission');
			$data['text_package_limit'] = $this->language->get('text_package_limit');
			$data['text_vendor_personal'] = $this->language->get('text_vendor_personal');
			$data['text_vendor_update_profile'] = $this->language->get('text_vendor_update_profile');
			$data['text_vendor_update_password'] = $this->language->get('text_vendor_update_password');
			$data['text_vendor_tools'] = $this->language->get('text_vendor_tools');
			$data['text_quicker_status_modifier'] = $this->language->get('text_quicker_status_modifier');
			$data['text_contract_status_modifier'] = $this->language->get('text_contract_status_modifier');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			$data['home'] = $this->url->link('common/dashboard', 'token=' . $this->session->data['token'], 'SSL');
			]]></search>
			<add position="before"><![CDATA[			
			if (!$this->user->getVP()) {
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			return $this->load->view('common/menu.tpl', $data);
			]]></search>
			<add position="before"><![CDATA[			
			$data['mvd_add_vendors'] = $this->url->link('catalog/vendor', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_add_courier'] = $this->url->link('catalog/courier', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_product'] = $this->url->link('catalog/mvd_product', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_download'] = $this->url->link('catalog/mvd_download', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_option'] = $this->url->link('catalog/mvd_option', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_category'] = $this->url->link('catalog/mvd_category', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_information'] = $this->url->link('catalog/mvd_information', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_attribute'] = $this->url->link('catalog/mvd_attribute', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_attribute_group'] = $this->url->link('catalog/mvd_attribute_group', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_prostatctrl'] = $this->url->link('catalog/prostatctrl', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_setting'] = $this->url->link('catalog/vendor_setting', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_commission'] = $this->url->link('catalog/commission', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_limit'] = $this->url->link('catalog/prolimit', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_contstatctrl'] = $this->url->link('sale/contstatctrl', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_ven_transaction'] = $this->url->link('report/mvd_vendor_transaction', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_payment_history'] = $this->url->link('sale/mvd_payment_history', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_contract_history'] = $this->url->link('sale/mvd_contract_history', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_ven_report'] = $this->url->link('report/vendor_sale_order', 'token=' . $this->session->data['token'], 'SSL');
			$data['mvd_coupon'] = $this->url->link('marketing/mvd_coupon', 'token=' . $this->session->data['token'], 'SSL');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			return $this->load->view('common/menu.tpl', $data);
			]]></search>
			<add position="after"><![CDATA[			
			} else {
				$data['home'] = $this->url->link('common/vdi_dashboard', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_product'] = $this->url->link('catalog/vdi_product', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_category'] = $this->url->link('catalog/vdi_category', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_option'] = $this->url->link('catalog/vdi_option', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_attribute'] = $this->url->link('catalog/vdi_attribute', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_attribute_group'] = $this->url->link('catalog/vdi_attribute_group', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_information'] = $this->url->link('catalog/vdi_information', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_download'] = $this->url->link('catalog/vdi_download', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_report_product_viewed'] = $this->url->link('report/vdi_product_viewed', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_report_product_purchased'] = $this->url->link('report/vdi_product_purchased', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_contract_history'] = $this->url->link('sale/vdi_contract_history', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_update_vendor_profile'] = $this->url->link('catalog/vdi_vendor_profile', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_user_password'] = $this->url->link('user/vdi_user_password', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_sale_order'] = $this->url->link('sale/vdi_order', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_coupon'] = $this->url->link('marketing/vdi_coupon', 'token=' . $this->session->data['token'], 'SSL');
				$data['vdi_transaction'] = $this->url->link('report/vdi_transaction', 'token=' . $this->session->data['token'], 'SSL');
				
				if ($this->user->getExpireDate()!= '0000-00-00') { 
					$data['expiration_date'] = '<span style="color:white;background-color:#4AA02C;padding:1px 5px 1px 5px;border-radius: 3px 3px 3px 3px">' . $this->user->getExpireDate() . '</span>';
				} else {
					$data['expiration_date'] = false;
				}
				
				return $this->load->view('common/vdi_menu.tpl', $data);
			}
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/profile.php">
		<operation error="skip">
			<search><![CDATA[
			$data['user_group'] = $user_info['user_group'] ;
			]]></search>
			<add position="before"><![CDATA[			
			if ($this->user->getExpireDate()!= '0000-00-00') { 
				$data['expiration_date'] = '<span style="color:white;background-color:#4AA02C;padding:1px 5px 1px 5px;border-radius: 3px 3px 3px 3px">' . $this->user->getExpireDate() . '</span>';
			} else {
				$data['expiration_date'] = false;
			}
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/common/reset.php">
		<operation error="skip">
			<search><![CDATA[
			$this->response->redirect($this->url->link('common/dashboard', '', 'SSL'));
			]]></search>
			<add position="replace"><![CDATA[			
			if (!$this->user->getVP()) {
				$this->response->redirect($this->url->link('common/dashboard', '', 'SSL'));
			} else {
				$this->response->redirect($this->url->link('common/vdi_dashboard', '', 'SSL'));
			}
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			$data['header'] = $this->load->controller('common/header');
			]]></search>
			<add position="replace"><![CDATA[			
			if (!$this->user->getVP()) {
				$data['header'] = $this->load->controller('common/header');
			} else {
				$data['header'] = $this->load->controller('common/vdi_header');
			}
			]]></add>
		</operation>
	</file>
	
	<file path="admin/controller/dashboard/recent.php">
		<operation error="skip">
			<search><![CDATA[
			foreach ($results as $result) {
			]]></search>
			<add position="after"><![CDATA[			
			$status = $this->model_sale_order->getAllVendorOrderStatus($result['order_id']);
				
			if ($status) {
				$status = $status;
			} else {
				$status = $result['status'];
			}
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			'status'     => $result['status'],
			]]></search>
			<add position="replace"><![CDATA[			
			'status'     => $status,
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/controller/sale/order.php">
		<operation error="skip">
			<search><![CDATA[
			$data['entry_comment'] = $this->language->get('entry_comment');
			]]></search>
			<add position="after" index="2"><![CDATA[			
			$data['entry_sent_comment_to_all'] = $this->language->get('entry_sent_comment_to_all');
			$data['help_sent_comment_to_all'] = $this->language->get('help_sent_comment_to_all');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			$products = $this->model_sale_order->getOrderProducts($this->request->get['order_id']);
			]]></search>
			<add position="before" index="2"><![CDATA[			
			$this->load->model('catalog/vendor');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			$options = $this->model_sale_order->getOrderOptions($this->request->get['order_id'], $product['order_product_id']);
			]]></search>
			<add position="after"><![CDATA[			
			$vname = $this->model_catalog_vendor->getVendor($product['vendor_id']);
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			'name'    	 	   => $product['name'],
			]]></search>
			<add position="after"><![CDATA[			
			'vname' 		   => $vname['vendor_name'],
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			foreach ($results as $result) {
			]]></search>
			<add position="before" index="2"><![CDATA[			
			$this->load->model('catalog/vendor');
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			foreach ($results as $result) {
			]]></search>
			<add position="after" index="2"><![CDATA[			
			$vendor_info = $this->model_catalog_vendor->getVendor($result['vendor_id']);
			if (!empty($vendor_info)) {
				$vendor_name = $vendor_info['vendor_name'];
			} else {
				$vendor_name = $this->language->get('text_default_store');
			}
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			'status'     => $result['status'],
			]]></search>
			<add position="replace"><![CDATA[			
			'status'     => $result['status'] . ' - ' . $vendor_name,
			]]></add>
		</operation>
	</file>
	
	<file path="admin/language/english/common/dashboard.php">
		<operation error="skip">
			<search><![CDATA[
			$_['heading_title']                = 'Dashboard';
			]]></search>
			<add position="after"><![CDATA[			
			$_['text_total_product']           = 'Total Products';
			$_['text_total_shipping']          = 'Total Shipping Charges';
			$_['text_total_product_approval']  = 'Products Awaiting Approval';
			$_['text_total_product_pendding']  = 'Products Pending Approval';
			$_['text_total_vendor_approval']   = 'Vendors Account Awaiting Approval';
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/language/english/common/header.php">
		<operation error="skip">
			<search><![CDATA[
			$_['text_logout']          = 'Logout';
			]]></search>
			<add position="after"><![CDATA[			
			$_['text_multi_vendor_status']      = 'Multi Vendor';
			$_['text_total_pending_products']   = 'Products Pending';
			$_['text_total_pending_accounts']   = 'Accounts Pending';
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/language/english/common/login.php">
		<operation error="skip">
			<search><![CDATA[
			$_['error_token']    = 'Invalid token session. Please login again.';
			]]></search>
			<add position="after"><![CDATA[			
			$_['error_expired']  = 'Account Expired. Please contact system administrator.';
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/language/english/common/menu.php">
		<operation error="skip">
			<search><![CDATA[
			$_['text_affiliate']                   = 'Affiliates';
			]]></search>
			<add position="before"><![CDATA[			
			$_['expiration_date']      			= 'Account Expiry Date : ';
			$_['text_vendor_tool']       		= 'Vendors';
			$_['text_pro2ven']      	 		= 'Vendor Products';
			$_['text_add_vendors']       	    = 'Manage Vendors';
			$_['text_add_courier']       		= 'Manage Couriers';
			$_['text_vendor_sales']      	    = 'Sales';
			$_['text_vendor_sales_orders']      = 'Orders';
			$_['text_vendor_report']      	    = 'Reports';
			$_['text_vendor_transaction']      	= 'Transactions';
			$_['text_payment_history']      	= 'Payment History';
			$_['text_contract_history']     	= 'Contract History';
			$_['text_setup']       		   		= 'Settings';
			$_['text_vendor_setting']      		= 'Global Vendor Setting';
			$_['text_vendor_commission']      	= 'Commissions';
			$_['text_package_limit']      	   	= 'Product Limit';
			$_['text_vendor_personal']      	= 'Personal Details';
			$_['text_vendor_update_profile']   	= 'Update Profile';
			$_['text_vendor_update_password']   = 'Change Password';
			$_['text_vendor_tools']      		= 'Tools';
			$_['text_quicker_status_modifier']  = 'Quicker Status Modifier';
			$_['text_contract_status_modifier'] = 'Contract Status Modifier';
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/language/english/sale/order.php">
		<operation error="skip">
			<search><![CDATA[
			$_['text_history']                            = 'Add Order History';
			]]></search>
			<add position="after"><![CDATA[			
			$_['entry_sent_comment_to_all']               = 'All Comments';
			$_['help_sent_comment_to_all']                = '<b>Notify Customer checkbox need to be checked</b>';
			$_['text_default_store']                      = 'Default Store';
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/model/sale/order.php">
		<operation error="skip">
			<search><![CDATA[
			$query = $this->db->query("SELECT oh.date_added, os.name AS status, oh.comment, oh.notify FROM " . DB_PREFIX . "order_history oh LEFT JOIN " . DB_PREFIX . "order_status os ON oh.order_status_id = os.order_status_id WHERE oh.order_id = '" . (int)$order_id . "' AND os.language_id = '" . (int)$this->config->get('config_language_id') . "' ORDER BY oh.date_added ASC LIMIT " . (int)$start . "," . (int)$limit);
			]]></search>
			<add position="replace"><![CDATA[			
			$query = $this->db->query("SELECT oh.date_added, os.name AS status, oh.comment, oh.notify, oh.vendor_id FROM " . DB_PREFIX . "order_history oh LEFT JOIN " . DB_PREFIX . "order_status os ON oh.order_status_id = os.order_status_id WHERE oh.order_id = '" . (int)$order_id . "' AND os.language_id = '" . (int)$this->config->get('config_language_id') . "' ORDER BY oh.date_added ASC LIMIT " . (int)$start . "," . (int)$limit);
			]]></add>
		</operation>
		<operation error="skip">
			<search><![CDATA[
			public function getTotalEmailsByProductsOrdered($products) {
			]]></search>
			<add position="before"><![CDATA[			
			public function getAllVendorOrderStatus($order_id) {
				$getOrderStatusID = $this->db->query("SELECT order_status_id FROM  `" . DB_PREFIX . "order` WHERE order_id = '" . (int)$order_id . "'");
				$count1 = $this->db->query("SELECT COUNT(*) as total FROM  `" . DB_PREFIX . "order_status_vendor_update` WHERE order_id = '" . (int)$order_id . "'");
				$count2 = $this->db->query("SELECT COUNT(*) as total FROM  `" . DB_PREFIX . "order_status_vendor_update` WHERE order_id = '" . (int)$order_id . "' AND order_status_id = '" . (int)$getOrderStatusID->row['order_status_id'] . "'");

				if ($count1->row['total'] != $count2->row['total']) {
					$query = $this->db->query("SELECT DISTINCT(`vendor_id`), order_status_id FROM  `" . DB_PREFIX . "order_status_vendor_update` WHERE order_id = '" . (int)$order_id . "'");
					$status_text = '';
							
					if ($query->rows) {
						foreach ($query->rows as $result) {						
							$name = $this->db->query("SELECT vendor_name FROM  `" . DB_PREFIX . "vendors` WHERE vendor_id = '" . (int)$result['vendor_id'] . "'");
							$status = $this->db->query("SELECT name FROM  `" . DB_PREFIX . "order_status` WHERE order_status_id = '" . (int)$result['order_status_id'] . "'");
										
							if ($name->row) {
								$vname = $name->row['vendor_name'];
							} else {
								$vname = '';
							}
									
							if ($vname) {
								if (empty($status_text)) {
									$status_text = '<small><b>' . $vname . '</b> - ' . $status->row['name'] . '</small>';
								} else {
									$status_text .= '<br /><small><b>' . $vname . '</b> - ' . $status->row['name'] . '</small>';
								}							
							}
						}
						return $status_text;
					} else {
						return false;
					}
				} else {
					$current_status = $this->db->query("SELECT name FROM  `" . DB_PREFIX . "order_status` WHERE order_status_id = '" . (int)$getOrderStatusID->row['order_status_id'] . "'");
					return $current_status->row['name'];
				}
			}
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/view/template/common/header.tpl">
		<operation error="skip">
			<search><![CDATA[
			<li class="dropdown-header"><?php echo $text_product; ?></li>
			]]></search>
			<add position="before"><![CDATA[			
			<li class="dropdown-header"><?php echo $text_multi_vendor_status; ?></li>
			<li><a href="<?php echo $pending_products; ?>"><?php echo $text_total_pending_products; ?> <span class="label label-danger pull-right"><?php echo $total_pending_products; ?></a></li>
			<li><a href="<?php echo $pending_accounts; ?>"><?php echo $text_total_pending_accounts; ?> <span class="label label-danger pull-right"><?php echo $total_pending_accounts; ?></span></a></li>
			<li class="divider"></li>
			]]></add>
		</operation>	
	</file>
	
	<file path="admin/view/template/common/menu.tpl">
		<operation error="skip">
			<search><![CDATA[
			<li><a class="parent"><i class="fa fa-share-alt fa-fw"></i> <span><?php echo $text_marketing; ?></span></a>
			]]></search>
			<add position="before"><![CDATA[			
			<li id="extension"><a class="parent"><i class="fa fa-users fa-fw"></i> <span><?php echo $text_vendor_tool; ?></span></a>
			  <ul>
				<li><a href="<?php echo $mvd_add_vendors; ?>"><?php echo $text_add_vendors; ?></a></li>
				<li><a href="<?php echo $mvd_add_courier; ?>"><?php echo $text_add_courier; ?></a></li>
				<li><a class="parent"><?php echo $text_catalog; ?></a>
				  <ul>
					 <li><a href="<?php echo $mvd_product; ?>"><?php echo $text_product; ?></a></li>
					 <li><a class="parent"><?php echo $text_attribute; ?></a>
						<ul>
						  <li><a href="<?php echo $mvd_attribute; ?>"><?php echo $text_attribute; ?></a></li>
						  <li><a href="<?php echo $mvd_attribute_group; ?>"><?php echo $text_attribute_group; ?></a></li>
						</ul>
					 </li>
					 <li><a href="<?php echo $mvd_option; ?>"><?php echo $text_option; ?></a></li>
					 <li><a href="<?php echo $mvd_download; ?>"><?php echo $text_download; ?></a></li>
					 <li><a href="<?php echo $mvd_information; ?>"><?php echo $text_information; ?></a></li>
				  </ul>
				</li>
				<li><a class="parent"><?php echo $text_vendor_sales; ?></a>
				  <ul>
					<li><a href="<?php echo $mvd_ven_transaction; ?>"><?php echo $text_vendor_transaction; ?></a></li>
					<li><a href="<?php echo $mvd_payment_history; ?>"><?php echo $text_payment_history; ?></a></li>
					<li><a href="<?php echo $mvd_contract_history; ?>"><?php echo $text_contract_history; ?></a></li>
					<li><a href="<?php echo $mvd_coupon; ?>"><?php echo $text_coupon; ?></a></li>
				  </ul>
				</li>
				<li><a class="parent"><?php echo $text_vendor_tools; ?></a>
				  <ul>
					<li><a href="<?php echo $mvd_prostatctrl; ?>"><?php echo $text_quicker_status_modifier; ?></a></li>
					<li><a href="<?php echo $mvd_contstatctrl; ?>"><?php echo $text_contract_status_modifier; ?></a></li>
				  </ul>
				</li>
				<li><a class="parent"><?php echo $text_setup; ?></a>
				  <ul>
					<li><a href="<?php echo $mvd_limit; ?>"><?php echo $text_package_limit; ?></a></li>
					<li><a href="<?php echo $mvd_commission; ?>"><?php echo $text_vendor_commission; ?></a></li>
					<li><a href="<?php echo $mvd_setting; ?>"><?php echo $text_vendor_setting; ?></a></li>
				  </ul>
				</li>
			  </ul>
			</li>
			]]></add>
		</operation>	
	</file>
</modification>